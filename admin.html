<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HXH 獵人揪團｜管理</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Noto+Serif+TC:wght@700;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="base.css">
  <!-- 管理頁你之後要深藍主題再加 admin.css；先保持白底簡潔 -->
  <style>
    body{ background:#fafafa; color:#222; }
    .wrap{ max-width:980px; margin:0 auto; padding:20px 16px 60px; }
    .hero{ background:var(--navy); color:#fff; padding:18px 16px; text-align:center; border-radius:0; }
    .hero h1{ margin:0; font-family:var(--serif); font-size:22px; font-weight:900; }
    .card{ background:#fff; border:1px solid var(--line); padding:14px; margin-top:14px; }
    input{ padding:12px 14px; border:1px solid var(--line); border-radius:999px; width:min(420px, 100%); }
    .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .muted{ color:#777; font-size:13px; }
    a.soft-back{ color:#b85b5b; font-weight:900; text-decoration:underline; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="hero">
      <h1>HXH 獵人揪團｜管理後台</h1>
    </div>



    <div class="card">
      <div class="muted">施工中，待建設：勾選出貨、包裹追蹤、批次操作」。</div>
      <div class="row" style="margin-top:10px;">
        <input id="admin_key" placeholder="管理碼">
        <button class="btn btn-main" id="login">登入</button>
      </div>
      <div id="status" class="muted" style="margin-top:10px;"></div>
    </div>
    <div style="margin-top:10px;text-align:center;">
      <a class="soft-back" href="index.html">其實我不是豆漿</a>
    </div>
    <div class="card" id="panel" style="display:none;">
      <div style="font-weight:900;">✅ 登入成功</div>
      <div class="muted" style="margin-top:6px;">下一步我們再把管理清單搬進來。</div>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    document.getElementById("login").addEventListener("click", async ()=>{
      const key = document.getElementById("admin_key").value.trim();
      const status = document.getElementById("status");
      if(!key){ alert("請輸入管理碼"); return; }
      status.textContent = "驗證中…";
      try{
        const url = `${API_URL}?action=admin_list&admin_key=${encodeURIComponent(key)}`;
        const res = await fetch(url);
        const data = await res.json();
        if(!data.ok) throw new Error(data.message || "管理碼錯誤");
        status.textContent = `✅ OK（共 ${data.list?.length || 0} 筆）`;
        document.getElementById("panel").style.display = "";
      }catch(e){
        console.error(e);
        status.textContent = "❌ " + (e.message || "失敗");
      }
    });
  </script>
</body>
</html>
